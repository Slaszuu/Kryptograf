<Window x:Class="Kryptograf.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:helpers="clr-namespace:Kryptograf.Helpers"
        xmlns:converters="clr-namespace:Kryptograf.Converters"
        Title="Kryptograf" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <!-- Colors definitions -->
        <Color x:Key="PrimaryColor">#FF3B8D99</Color>
        <Color x:Key="SecondaryColor">#FF1B2A49</Color>
        <SolidColorBrush x:Key="ActiveButtonForegroundColor" Color="White"/>
        <SolidColorBrush x:Key="DisabledButtonForegoundColor" Color="LightSlateGray"/>
        <SolidColorBrush x:Key="ActiveCleanButtonBackgroundColor" Color="LimeGreen" />
        <SolidColorBrush x:Key="DisabledButtonBackgroundColor" Color="DarkGray" />
        <SolidColorBrush x:Key="EncryptButtonBackgroundColor" Color="#FF5DADE2" />
        <SolidColorBrush x:Key="DecryptButtonBackgroundColor" Color="#FFE74C3C" />

        <!--Styles-->
        <Style TargetType="Button">
            <Setter Property="Foreground" Value="{StaticResource ActiveButtonForegroundColor}"/>
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Padding" Value="5" />
            <Setter Property="Height" Value="Auto" />
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Foreground" Value="{StaticResource DisabledButtonForegoundColor}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Conventers -->
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <converters:NegativeBooleanToVisibilityConverter x:Key="NegativeBooleanToVisibilityConverter" />
    </Window.Resources>

    <Window.Background>
        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="{StaticResource PrimaryColor}" Offset="0" />
            <GradientStop Color="{StaticResource SecondaryColor}" Offset="1" />
        </LinearGradientBrush>
    </Window.Background>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <TextBlock Text="Kryptograf" FontSize="28" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"
                   Margin="0,0,0,20" />

        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,10">
            <TextBlock Text="Text:" VerticalAlignment="Center" Foreground="White" FontSize="16" Margin="40,0,10,0" />
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="500" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <TextBox Grid.Column="0"
                         Height="100" MaxHeight="100"
                         Text="{Binding InputText, UpdateSourceTrigger=PropertyChanged}"
                         FontSize="16" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"
                         Padding="5" />
                <Button Grid.Column="1" Content="Clean"
                        Command="{Binding CleanTextCommand}" CommandParameter="InputText"
                        Width="70" Margin="5,0,0,0"
                        Background="{StaticResource ActiveCleanButtonBackgroundColor}" VerticalAlignment="Bottom" />
            </Grid>
        </StackPanel>

        <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,0,0,10">
            <TextBlock Text="Password:" VerticalAlignment="Center" Foreground="White" FontSize="16" Margin="0,0,10,0" />

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="500" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <PasswordBox x:Name="PasswordBox" Grid.Row="0" Grid.Column="0" FontSize="16" Padding="5"
                             helpers:PasswordBoxHelper.BindPassword="True"
                             helpers:PasswordBoxHelper.BoundPassword="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                             Visibility="{Binding IsPasswordVisible, Converter={StaticResource NegativeBooleanToVisibilityConverter}}" />

                <TextBox x:Name="TextBoxPassword" Grid.Row="0" Grid.Column="0" FontSize="16" Padding="5"
                         Visibility="{Binding IsPasswordVisible, Converter={StaticResource BooleanToVisibilityConverter}}"
                         Text="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                <Button Grid.Row="0" Grid.Column="1" Content="Clean"
                        Command="{Binding CleanTextCommand}" CommandParameter="Password"
                        Width="70" Margin="5,0,0,0"
                        Background="{StaticResource ActiveCleanButtonBackgroundColor}" VerticalAlignment="Bottom" />

                <Button Grid.Row="1" Grid.Column="0" Content="Show/Hide" Command="{Binding TogglePasswordVisibilityCommand}"
                        Width="70" Margin="0,2,0,0"
                        Background="{StaticResource DisabledButtonBackgroundColor}" Padding="5" HorizontalAlignment="Left"/>
            </Grid>
        </StackPanel>

        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0, 0, 0, 10">
            <Button Content="Encrypt" Command="{Binding EncryptCommand}" Width="100" Margin="5"
                    Background="{StaticResource EncryptButtonBackgroundColor}" Padding="5" />
            <Button Content="Decrypt" Command="{Binding DecryptCommand}" Width="100" Margin="5"
                    Background="{StaticResource DecryptButtonBackgroundColor}" Padding="5" />
        </StackPanel>

        <Grid Grid.Row="4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0" Margin="10">
                <TextBlock Text="Encrypted Text:" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,0,5" />
                <TextBox Text="{Binding EncryptedText}" TextWrapping="Wrap" FontSize="16" IsReadOnly="True" Padding="5"
                         Background="White"
                         Foreground="Black" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" Height="120" />
                <Button Content="Clean"
                        Command="{Binding CleanTextCommand}" CommandParameter="EncryptedText"
                        Width="70" Margin="0,5 ,0 ,0"
                        Background="{StaticResource ActiveCleanButtonBackgroundColor}" Padding="5"
                        HorizontalAlignment="Right" />
            </StackPanel>

            <StackPanel Grid.Column="1" Margin="10">
                <TextBlock Text="Decrypted Text:" FontSize="16" FontWeight="Bold" Foreground="White" Margin="0,0,0,5" />
                <TextBox Text="{Binding DecryptedText}" TextWrapping="Wrap" FontSize="16" IsReadOnly="True" Padding="5"
                         Background="White"
                         Foreground="Black" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" Height="120" />
                <Button Content="Clean"
                        Command="{Binding CleanTextCommand}" CommandParameter="DecryptedText"
                        Width="70" Margin="0,5 ,0 ,0"
                        Background="{StaticResource ActiveCleanButtonBackgroundColor}" Padding="5"
                        HorizontalAlignment="Right" />
            </StackPanel>
        </Grid>
    </Grid>
</Window>
